"use strict";(self.webpackChunktailcall_run=self.webpackChunktailcall_run||[]).push([[4810],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),d=l(n),c=a,h=d["".concat(s,".").concat(c)]||d[c]||u[c]||o;return n?r.createElement(h,i(i({ref:t},m),{},{components:n})):r.createElement(h,i({ref:t},m))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=c;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[d]="string"==typeof e?e:a,i[1]=p;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2467:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>p,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const o={title:"Operator Composition",sidebar_position:2},i=void 0,p={unversionedId:"guides/composition",id:"guides/composition",title:"Operator Composition",description:'This example illustrates the concept of composition in GraphQL, which allows you to combine multiple operations (known as "operators") to build more complex transformations of data.',source:"@site/docs/guides/composition.md",sourceDirName:"guides",slug:"/guides/composition",permalink:"/docs/guides/composition",draft:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/guides/composition.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Operator Composition",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Operators",permalink:"/docs/guides/operators"},next:{title:"CLI",permalink:"/docs/guides/cli"}},s={},l=[],m={toc:l},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,'This example illustrates the concept of composition in GraphQL, which allows you to combine multiple operations (known as "operators") to build more complex transformations of data.'),(0,a.kt)("p",null,"The given schema is defining two data types - ",(0,a.kt)("inlineCode",{parentName:"p"},"User")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Post"),". The ",(0,a.kt)("inlineCode",{parentName:"p"},"User")," type has fields ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"name"),", and the ",(0,a.kt)("inlineCode",{parentName:"p"},"Post")," type initially has fields ",(0,a.kt)("inlineCode",{parentName:"p"},"user")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"userId"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"showLineNumbers",showLineNumbers:!0},'type User {\n  id: Int\n  name: String\n}\n\ntype Post @addField(name: "userName", path: ["user", "name"]) {\n  user: User @modify(omit: true) @http(path: "/users/{{userId}}")\n  userId: Int!\n}\n')),(0,a.kt)("p",null,"However, it uses a series of operators to modify the ",(0,a.kt)("inlineCode",{parentName:"p"},"user")," field."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},'@addField(name: "userName", path: ["user", "name"])')," operator is used to extract the ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," field from ",(0,a.kt)("inlineCode",{parentName:"p"},"user")," and add a field called ",(0,a.kt)("inlineCode",{parentName:"p"},"userName")," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"Post"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},"@modify(omit: true)")," operator is used to remove the ",(0,a.kt)("inlineCode",{parentName:"p"},"user")," field from the final Schema.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},'@http(path: "/users/{{userId}}")')," operator is used to instruct the resolver to make an HTTP request to fetch the user data from a specified path (i.e., ",(0,a.kt)("inlineCode",{parentName:"p"},"/users/{{userId}}"),"), where ",(0,a.kt)("inlineCode",{parentName:"p"},"{{userId}}")," is a placeholder that would be replaced with the actual ",(0,a.kt)("inlineCode",{parentName:"p"},"userId")," when making the request."))),(0,a.kt)("p",null,"The schema after this transformation looks like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql",metastring:"showLineNumbers",showLineNumbers:!0},"type User {\n  id: Int\n  name: String\n}\n\ntype Post {\n  userName: String\n  userId: Int!\n}\n")),(0,a.kt)("p",null,"So, we've used composition of operators to take a complex object (the ",(0,a.kt)("inlineCode",{parentName:"p"},"User")," inside the ",(0,a.kt)("inlineCode",{parentName:"p"},"Post"),"), extract a specific part of it (",(0,a.kt)("inlineCode",{parentName:"p"},"name"),"), name that part (",(0,a.kt)("inlineCode",{parentName:"p"},"userName"),"), and then instruct GraphQL how to fetch the data using an HTTP request."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"It is important to note that the order of the operators ",(0,a.kt)("inlineCode",{parentName:"p"},"@modify")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"@http")," doesn't matter. The resulting schema will always be the same.")),(0,a.kt)("p",null,"This is a powerful mechanism that allows you to make your GraphQL schema more precise, easier to understand, and more suitable for the specific needs of your application."))}u.isMDXComponent=!0}}]);