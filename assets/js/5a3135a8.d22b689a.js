"use strict";(self.webpackChunktailcall_run=self.webpackChunktailcall_run||[]).push([[1864],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,h=c["".concat(s,".").concat(d)]||c[d]||u[d]||i;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8318:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={title:"Watch Mode"},o=void 0,l={unversionedId:"guides/watch-mode",id:"guides/watch-mode",title:"Watch Mode",description:"Developers often find themselves in situations where they need to run a server in watch mode to streamline the development process. This guide will introduce you to [entr], a versatile file-watcher tool, and demonstrate how to run your server in watch mode with it. We'll also touch on the installation process and suggest some best practices to optimize your workflow.",source:"@site/docs/guides/watch-mode.md",sourceDirName:"guides",slug:"/guides/watch-mode",permalink:"/docs/guides/watch-mode",draft:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/guides/watch-mode.md",tags:[],version:"current",frontMatter:{title:"Watch Mode"},sidebar:"tutorialSidebar",previous:{title:"Tackling N + 1",permalink:"/docs/guides/n+1"}},s={},p=[{value:"Use case",id:"use-case",level:2},{value:"Using <code>entr</code>",id:"using-entr",level:2},{value:"Installation",id:"installation",level:3},{value:"Homebrew",id:"homebrew",level:4},{value:"Windows Subsystem",id:"windows-subsystem",level:4},{value:"apt-get",id:"apt-get",level:4},{value:"Watch Mode",id:"watch-mode",level:3},{value:"Some Best Practices",id:"some-best-practices",level:2}],m={toc:p},c="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Developers often find themselves in situations where they need to run a server in watch mode to streamline the development process. This guide will introduce you to ",(0,r.kt)("a",{parentName:"p",href:"https://eradman.com/entrproject/"},"entr"),", a versatile file-watcher tool, and demonstrate how to run your server in watch mode with it. We'll also touch on the installation process and suggest some best practices to optimize your workflow."),(0,r.kt)("h2",{id:"use-case"},"Use case"),(0,r.kt)("p",null,"Running a server in watch mode offers several key benefits:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Real-time Feedback")," : Watch mode ensures that your server stays up-to-date with your code changes. It immediately reflects those changes, providing you with real-time feedback during development."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Efficency")," : Manually restarting the server each time you modify code can be tedious and time-consuming. Watch mode automates this process, making development more efficient."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Debugging")," : It helps you quickly identify and fix issues as they arise, reducing the debugging time. When your server automatically restarts upon code changes, you catch errors sooner.")),(0,r.kt)("h2",{id:"using-entr"},"Using ",(0,r.kt)("inlineCode",{parentName:"h2"},"entr")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"entr")," is a powerful file-watching utility that makes running a server in watch mode a breeze. Let's go through the steps for the installation process for different operating system :"),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("h4",{id:"homebrew"},"Homebrew"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Open the Terminal, which you can find in the "Utilities" folder within the "Applications" folder.')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install Homebrew if you haven't already. Run the following command in your Terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Once Homebrew is installed, you can install ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")," by running the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"brew install entr\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To verify the installation, run:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"entr --version\n")))),(0,r.kt)("p",null,"If the installation is done correctly it will shown the latest version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")),(0,r.kt)("h4",{id:"windows-subsystem"},"Windows Subsystem"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install Windows Subsystem for Linux (WSL) on your Windows machine by following Microsoft's official documentation.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After setting up WSL, open the Linux terminal by running:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"    wsl -d <DistributionName>\n")),(0,r.kt)("p",{parentName:"li"},"Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"<DistributionName>")," with the name of the Linux distribution that you have installed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install entr within the Linux terminal using the package manager of your chosen Linux distribution. For example, on Ubuntu, you can use:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"sudo apt update\nsudo apt install entr\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Verify the installation by running:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"entr --version\n")))),(0,r.kt)("p",null,"If the installation is done correctly it will shown the latest version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")),(0,r.kt)("h4",{id:"apt-get"},"apt-get"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On Linux, you can install ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")," using your distribution's package manager. For example, on Ubuntu, use:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"sudo apt update\nsudo apt install entr\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"To verify the installation, run:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"entr --version\n")))),(0,r.kt)("p",null,"If the installation is done correctly it will shown the latest version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")),(0,r.kt)("h3",{id:"watch-mode"},"Watch Mode"),(0,r.kt)("p",null,"To run your server in watch mode using ",(0,r.kt)("inlineCode",{parentName:"p"},"entr"),", you'll utilize the ",(0,r.kt)("inlineCode",{parentName:"p"},"ls")," command to list the files you want to monitor. The general syntax is as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"ls *.graphql | entr -r tailcall start ./jsonplaceholder.graphql\n")),(0,r.kt)("p",null,"This command uses ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")," to continuously monitor the ",(0,r.kt)("inlineCode",{parentName:"p"},"jsonplaceholder.graphql")," file and when it changes, It runs the ",(0,r.kt)("inlineCode",{parentName:"p"},"tailcall start")," command with the file as an argument"),(0,r.kt)("p",null,"The above command is described in detail below :"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ls *.graphql"),' : This part of the code lists the file or files you want to monitor for changes. In this case, it lists the file named "jsonplaceholder.graphql" within the "examples" directory.')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"|")," : The pipe symbol ('|') is used to take the output of the preceding command (the file listing) and feed it as input to the following command (entr).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"entr -r tc start ./jsonplaceholder.graphql"),' : This is the command that will be executed whenever the file "jsonplaceholder.graphql" changes.'))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"entr")," is a command-line tool for running arbitrary commands whenever files change. It monitors the files specified in the previous command (",(0,r.kt)("inlineCode",{parentName:"p"},"ls ./jsonplaceholder.graphql"),")")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"r")," : This flag tells entr to continue running the command even if it encounters errors (it runs the command repeatedly).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"tc start ./jsonplaceholder.graphql")," : This is the command to run when changes are detected. It is executing a command ",(0,r.kt)("inlineCode",{parentName:"p"},"tc start")," with the file path\n",(0,r.kt)("inlineCode",{parentName:"p"},"./jsonplaceholder.graphql")," as an argument"))),(0,r.kt)("h2",{id:"some-best-practices"},"Some Best Practices"),(0,r.kt)("p",null,"To make the most of running a server in watch mode with ",(0,r.kt)("inlineCode",{parentName:"p"},"entr"),", consider the following best practices:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Selective File Watching"),": Be selective about which files you monitor with ",(0,r.kt)("inlineCode",{parentName:"p"},"entr"),". Watching unnecessary files can lead to increased CPU and memory usage. Focus on the essential files related to your project.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Organize Your Project"),": Maintain a well-organized project structure to make it easier to identify which files need monitoring.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Clear Output"),": Clear the terminal output before running entr to have a clean workspace.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Version Control"),": Ensure that your project is under version control (e.g., Git) to track changes and easily revert if necessary.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Update ",(0,r.kt)("inlineCode",{parentName:"strong"},"entr")),": Kepp ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")," up to date with the latest version to benefit from bug fixes and improvements."))),(0,r.kt)("p",null,"By following these best practices and using ",(0,r.kt)("inlineCode",{parentName:"p"},"entr")," effectively, you can significantly improve your development workflow. Experiment with ",(0,r.kt)("inlineCode",{parentName:"p"},"entr"),", adapt it to your project's specific requirements, and enjoy a smoother and more efficient development process. Happy coding!"))}u.isMDXComponent=!0}}]);